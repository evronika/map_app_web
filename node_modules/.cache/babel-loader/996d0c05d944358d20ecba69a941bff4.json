{"ast":null,"code":"export var BATCH = 'BATCHING_REDUCER.BATCH';\nexport function batchActions(actions) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BATCH;\n  return {\n    type: type,\n    meta: {\n      batch: true\n    },\n    payload: actions\n  };\n}\nexport function enableBatching(reduce) {\n  return function batchingReducer(state, action) {\n    if (action && action.meta && action.meta.batch) {\n      return action.payload.reduce(batchingReducer, state);\n    }\n\n    return reduce(state, action);\n  };\n}\nexport function batchDispatchMiddleware(store) {\n  function dispatchChildActions(store, action) {\n    if (action.meta && action.meta.batch) {\n      action.payload.forEach(function (childAction) {\n        dispatchChildActions(store, childAction);\n      });\n    } else {\n      store.dispatch(action);\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action && action.meta && action.meta.batch) {\n        dispatchChildActions(store, action);\n      }\n\n      return next(action);\n    };\n  };\n}","map":{"version":3,"sources":["/Users/vdzerakh/Documents/map-app/app/node_modules/redux-batched-actions/es/index.mjs"],"names":["BATCH","batchActions","actions","type","arguments","length","undefined","meta","batch","payload","enableBatching","reduce","batchingReducer","state","action","batchDispatchMiddleware","store","dispatchChildActions","forEach","childAction","dispatch","next"],"mappings":"AAAA,OAAO,IAAIA,KAAK,GAAG,wBAAZ;AACP,OAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;AACpC,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEJ,KAA/E;AACA,SAAO;AACLG,IAAAA,IAAI,EAAJA,IADK;AAELI,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH,KAFD;AAKLC,IAAAA,OAAO,EAAEP;AALJ,GAAP;AAOD;AACD,OAAO,SAASQ,cAAT,CAAwBC,MAAxB,EAAgC;AACrC,SAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,MAAhC,EAAwC;AAC7C,QAAIA,MAAM,IAAIA,MAAM,CAACP,IAAjB,IAAyBO,MAAM,CAACP,IAAP,CAAYC,KAAzC,EAAgD;AAC9C,aAAOM,MAAM,CAACL,OAAP,CAAeE,MAAf,CAAsBC,eAAtB,EAAuCC,KAAvC,CAAP;AACD;;AAED,WAAOF,MAAM,CAACE,KAAD,EAAQC,MAAR,CAAb;AACD,GAND;AAOD;AACD,OAAO,SAASC,uBAAT,CAAiCC,KAAjC,EAAwC;AAC7C,WAASC,oBAAT,CAA8BD,KAA9B,EAAqCF,MAArC,EAA6C;AAC3C,QAAIA,MAAM,CAACP,IAAP,IAAeO,MAAM,CAACP,IAAP,CAAYC,KAA/B,EAAsC;AACpCM,MAAAA,MAAM,CAACL,OAAP,CAAeS,OAAf,CAAuB,UAAUC,WAAV,EAAuB;AAC5CF,QAAAA,oBAAoB,CAACD,KAAD,EAAQG,WAAR,CAApB;AACD,OAFD;AAGD,KAJD,MAIO;AACLH,MAAAA,KAAK,CAACI,QAAN,CAAeN,MAAf;AACD;AACF;;AAED,SAAO,UAAUO,IAAV,EAAgB;AACrB,WAAO,UAAUP,MAAV,EAAkB;AACvB,UAAIA,MAAM,IAAIA,MAAM,CAACP,IAAjB,IAAyBO,MAAM,CAACP,IAAP,CAAYC,KAAzC,EAAgD;AAC9CS,QAAAA,oBAAoB,CAACD,KAAD,EAAQF,MAAR,CAApB;AACD;;AAED,aAAOO,IAAI,CAACP,MAAD,CAAX;AACD,KAND;AAOD,GARD;AASD","sourcesContent":["export var BATCH = 'BATCHING_REDUCER.BATCH';\nexport function batchActions(actions) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BATCH;\n  return {\n    type,\n    meta: {\n      batch: true\n    },\n    payload: actions\n  };\n}\nexport function enableBatching(reduce) {\n  return function batchingReducer(state, action) {\n    if (action && action.meta && action.meta.batch) {\n      return action.payload.reduce(batchingReducer, state);\n    }\n\n    return reduce(state, action);\n  };\n}\nexport function batchDispatchMiddleware(store) {\n  function dispatchChildActions(store, action) {\n    if (action.meta && action.meta.batch) {\n      action.payload.forEach(function (childAction) {\n        dispatchChildActions(store, childAction);\n      });\n    } else {\n      store.dispatch(action);\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action && action.meta && action.meta.batch) {\n        dispatchChildActions(store, action);\n      }\n\n      return next(action);\n    };\n  };\n}"]},"metadata":{},"sourceType":"module"}